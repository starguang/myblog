# 实用的小代码 [持续更新]

1.node读文件async方式：

```js

// node API promisify 
const { promisify } = require("es6-promisify"); 
const fs = require("fs"); 
// 没有 top-level-await，只能包一层
async function main() {  
  const readFile = promisify(fs.readFile);  
  const data = await readFile("./data.txt");  
  console.log(data); 
}
main();
```

2.利用call去调用原型链的方法，讲道理不知道实际中怎么用：

```js
const fun = (item, index) => {
  console.log(index);
  return item + 1
}

Array.prototype.filter.call([1,2,3,4], fun);
// [1, 2, 3, 4]

// apply方式：
Array.prototype.filter.apply([1,2,3,4,5], [fun]);
```
